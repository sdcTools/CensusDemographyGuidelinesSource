%\chapter{Consistency Issues (â€¦caused by different SDC methods applied to different Data Products)}
\chapter{Consistency and Disclosure Risk Issues}\label{ch:consistency}
\chaptermark{Consistency \& Disclosure Risk} % Short version of chapter name for the page headers
\section{Introduction}
As already explained in Chapter~\ref{ch:intro}, demographic and census statistics are becoming more and more detailed. Moreover, many countries nowadays draw on the same data material when producing these statistics. 
However, these statistics are often managed by different departments of National Statistical Offices. Additionally, these departments may have different publication schemes, i.e., they may publish the same or similar data at different points in time. 

Yet another difference between census and demographic statistics may arise from differences in population definitions. At ESS level there is a lot of effort going on in trying to harmonise the population definitions. However, as long as there is no consensus, these differences may also lead to apparent inconsistencies. Anticipating the success of harmonising population definitions, we will assume the same population definition for census and demographic statistics in the remainder of this chapter.

One thus might end up with published tables that are related content wise, are based on the same data but are constructed using different methodologies. This obviously may lead to inconsistencies in the published figures what in turn may lead to increased disclosure risks. The application of different SDC methods to the different tables also influences the disclosure risk. 

We would like to stress at this point that this can indeed lead to serious disclosure problems and we will discuss some of them in greater detail in this chapter. A seemingly easy way out would be to harmonise the disclosure control methods of both statistics. In particular, the possibility of using the same method in both domains should always be examined in order to avoid inconsistencies and minimise the risk of disclosure. This is especially important when the exact same breakdown combinations are used for publications for the same reference date (or reference dates that are close to each other) in both statistical products.

For the Slovenian data, for example, it is the case that the tables for national publication as well as annual demographic tables for Eurostat, partially match the Eurostat hypercubes for the 2021 census. Hence, the Statistical Office of Slovenia (SURS) decided to use the same form of protection for these parts, due to consistency.
The only exception are those cells that are suppressed in the national publication and appear also in one hypercube: in this hypercube, they are protected using TRS and CKM.

What makes this harmonisation so challenging is the fact that both statistics serve different needs and have different goals. E.g., demographic data are often used for all kinds of indicators at not-too-low level of geography while census tables aim at detailed information at often detailed spatial level. Consequently, some SDC methods may be more suitable for demographics statistics but not for census data, and vice versa.




\section{Differences in Used SDC Methods}
Even though Coarsening has not been dealt with in our previous considerations, it offers an easy-to-understand way of illustrating the overall problem. One reason for not including Coarsening in Chapter~\ref{ch:sdcmeth} is that harmonisation of European demographic statistics and European census statistics leads to prescribed details and formats of tables that have to be submitted to Eurostat. Hence, Coarsening is not a valid SDC method in those situations.

To illustrate the problem of using different SDC methods in a simple way, let us nonetheless assume that demographic statistics used Coarsening as the only SDC method. Moreover, assume on the other hand that a perturbative disclosure control method is used for the census tables as recommended at ESS expert level, and one or several of the coarsened cells from the demographic statistics are also present in the census hypercubes. The values provided in the demographic statistics then can easily be compared with the values provided in the census statistics.

The protective effect of perturbative methods results from the uncertainty that is generated: none of the published values can be said with absolute certainty to match exactly with the observed value. 
When a data attacker is at the same time also provided with information about the true values of certain table cells through the (possibly coarsened) demographic publications, this can be used to draw further conclusions about other cells. This means that even if a published unperturbed cell value is completely innocuous on its own, a data attacker can, in the worst case, still use it to disclose sensitive cells. It is comparable to providing a Sudoku puzzle in which always only a few fields are known from the start, but the remaining fields can still be filled in correctly by someone with the appropriate skill. Whereas without the additional information the Sudoku puzzle turns into just an empty grid without any exact numbers given explicitly.

One could argue that mixing a perturbative method and a non-perturbative method is not a good idea in the first place, and that restricting oneself to using non-perturbative methods only might solve the issue. But unfortunately it is not that easy. Non-perturbative SDC methods like Coarsening and Cell Suppression are limited in their possible applications. Coarsening, for example, obviously doesn't allow detailed evaluations, which is in contrast to the goal for very high granularity of the Census publications. Cell Suppression on the other hand requires a high degree of coordination between individual tables to ensure that all logically identical table cells can be correctly identified, linked and protected consistently in all their breakdowns. This task is especially complex if certain cells are subdivided differently in several published tables, using various hierarchical breakdowns and maybe even overlapping subtotals. So, the more different, overlapping tables you want to publish from the same data material, the less information can actually stay unsuppressed. Hence, while non-pertubative SDC methods may be a good choice for the two statistics considered individually, this might not be the case anymore, if you have to consider both statistics together.

Yet that does not mean that restricting oneself to perturbative SDC methods only, is the holy grail that can be used without further precautionary measures. To illustrate this, think of a scenario where both statistics rely on the same data, but are protected with (different) perturbative disclosure control methods like e.g., the Cell Key Method and Targeted Record Swapping. 

One important difference between these two methods is that CKM allows to control the amount of deviation per value that is to be published, while TRS perturbation is carried out on the micro data and hence deviations may become very large on higher aggregation levels. Moreover, TRS swaps (similar) households but does not take into account all individual characteristics of all members of the household. Choosing similarity variables and risk variables appropriately, one can influence the added noise to some extend. However, that approach controls the added noise at household level more easily than it does on person level.

Since, from a data quality perspective, large deviations are undesirable, one might tend to configure the TRS algorithm rather weak, such that only very few households get swapped. Since usually providing precise information on the swap rate is avoided, a statistical office can still rely on the fact that it is unclear where a swap actually took place and that any supposed disclosure might in fact be just a perturbed value.
However, assume that at higher aggregation levels, for combinations of individual characteristics comparative values are available that were protected with CKM. It then is easy to derive whether or not a lot of micro data have been swapped using TRS: if the values for CKM and TRS are close together then TRS must have been parameterised very weakly. This realisation reduces the intended protective effect of TRS. However, if the values of the two publications differ significantly, this can cause confusion among users and reduce confidence in the data.




\section{Differences in Reference Dates}
At a first glance, differences in reference dates of the census and the demographic statistics seem to solve some of the disclosure control issues. Indeed, tables with overlapping information do not need to have the exact same figures when based on different reference dates. However, it is also problematic if both reference dates are at least close to each other. If only a short time span lies between both reference dates, differences in the original data should be relatively small and therefore the same conclusions can be drawn, with a little more potential for imprecisions.
If in addition a potential data attacker is provided with further information, such as statistics on immigration and emigration as well as births and deaths, such temporal differences in the surveys can also be compensated for. 

\section{Concluding Remarks}
We have shown that there are several pitfalls when disseminating tables based on (almost) the same data. The relationships between demographic and census based statistics play an important role in determining the most appropriate SDC methods to apply. It is therefore a necessity that the responsible departments for the demographic and the census tables collaborate closely when choosing the SDC methods they want to apply.

At the ESS level, the Working Group on Population and Housing Censuses has already addressed this issue in an ad-hoc solution to an operational problem that arose in the production of the 2021 census compared to the production of demographic data. In an internal paper on the Harmonised protection of census data from May 2022, usage of TRS, CKM and their combination is analysed. It was recommended to use both TRS and CKM and, if external consistency is to be established, as a practical solution, it was recommended to impute the overlapping cell values from the annual demographic tables into the census hypercubes.


% Harmonised protection of census data - issues for 2021, Doc. CENS/2022/May/10 prepared by Eurostat for the meeting of the Working Group on Population and Housing Censuses, 16-17 May 2022
